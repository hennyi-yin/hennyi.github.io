{% include base_path %}

<meta charset="utf-8">

{% include seo.html %}

<link href="{% if site.atom_feed.path %}{{ site.atom_feed.path }}{% else %}{{ base_path }}/feed.xml{% endif %}" type="application/atom+xml" rel="alternate" title="{{ site.title }} Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="{{ base_path }}/assets/css/main.css">

<meta http-equiv="cleartype" content="on">

<!-- In _includes/head.html, add these lines -->
<style>
  :root {
    --background-color: #ffffff;
    --text-color: #333333;
  }
  
  [data-theme="dark"] {
    --background-color: #333333;
    --text-color: #ffffff;
  }
  
  body {
    background-color: var(--background-color);
    color: var(--text-color);
    transition: background-color 0.3s ease, color 0.3s ease;
  }

  #themeToggle {
    background: none;
    border: none;
    font-size: 24px;
    cursor: pointer;
    padding: 0;
  }
</style>

<script>
  // Function to set the theme
  function setTheme(themeName) {
    localStorage.setItem('theme', themeName);
    document.documentElement.setAttribute('data-theme', themeName);
    updateThemeToggle(themeName);
  }

  // Function to toggle the theme
  function toggleTheme() {
    if (localStorage.getItem('theme') === 'dark') {
      setTheme('light');
    } else {
      setTheme('dark');
    }
  }

  // Function to update the theme toggle button
  function updateThemeToggle(themeName) {
    const toggleBtn = document.getElementById('themeToggle');
    if (toggleBtn) {
      toggleBtn.innerHTML = themeName === 'dark' ? '‚òÄÔ∏è' : 'üåô';
      toggleBtn.setAttribute('title', themeName === 'dark' ? 'Switch to light mode' : 'Switch to dark mode');
    }
  }

  // Immediately invoked function to set the theme on initial load
  (function () {
    const savedTheme = localStorage.getItem('theme') || 'light';
    setTheme(savedTheme);
  })();
</script>

<!-- In _layouts/default.html, add this button where you want it to appear -->
<button onclick="toggleTheme()" id="themeToggle" style="position: fixed; top: 20px; right: 20px; z-index: 1000;" title="Switch theme">
  üåô
</button>
